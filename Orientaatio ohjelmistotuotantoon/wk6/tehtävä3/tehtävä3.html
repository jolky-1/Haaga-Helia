<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tehtävä3 wk6</title>
</head>
<body>
    <h1>Sää</h1>

    <div class="" id="vastaus"></div>

    <script>
        function haeSaa() {
            fetch("http://api.openweathermap.org/data/2.5/weather?lang=fi&q=helsinki&units=metric&APPID=cb4e01fac9efb5eead07f5fed54943dd")
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                let vastaus = document.querySelector('#vastaus');
                let teksti = "";

                vastaus.innerHTML = data.name + "<br><br>" +
                                    data.weather[0].description + "<br>" +
                                    "Lämpötila: " + data.main.temp.toFixed(0) + "°C<br>" +
                                    "Tuuli: " + data.wind.speed.toFixed(0) + " m/s <br>" +
                                    "Pilvisyys: " + data.clouds.all + "%";
            })
            .catch(function (error) {
                console.error(error);
                vastaus.innerHTML = "Tietoja ei löytynyt."
            })
        }

        haeSaa();
    </script>
</body>
</html>